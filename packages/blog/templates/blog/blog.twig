{% extends 'base.twig' %}

{% set page_title %}Do you Want to Learn&nbsp;about&nbsp;Rector?{% endset %}

{% block main %}
    <div class="container" id="subpage">
        <div class="row" style="min-height: 30em">
            {# "filter" prevents future publishing #}
            {% for post in posts|filter(post => (post.dateTime|date('Y-m-d') <= "now"|date('Y-m-d'))) %}
                <div class="col-12 mb-5">
                    <h2 class="text-left mb-0 pb-2 mt-3">
                        <a href="{{ path('post', {'postSlug': post.slug }) }}">{{ post.title }}</a>
                    </h2>

                    <small>
                        <time datetime="{{ post.dateTime|date('Y-m-D') }}" class="text-muted">
                            {{ post.dateTime|date('j. n. Y') }}
                        </time>
                    </small>

                    <p class="perex mb-0">{{ post.perex|markdown|raw }}</p>

                    <a href="{{ path('post', {'postSlug': post.slug }) }}" class="btn btn-success btn-lg">
                        Read More
                        &nbsp;
                        <em class="fas fa-arrow-alt-circle-right fa-fw"></em>
                    </a>

                    <br>
                    <br>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
